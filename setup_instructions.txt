DeepFilterNet Single-Port Server Setup Instructions
===================================================

1Ô∏è‚É£ Install Python dependencies
-------------------------------
Open a terminal and run:

    pip install aiohttp numpy deepfilternet torch

> ‚ö†Ô∏è Make sure you have PyTorch installed (CPU or GPU version).  

2Ô∏è‚É£ Run the DeepFilterNet server
--------------------------------
In the folder containing `server.py`, run:

    python server.py

You should see something like:

    ‚úÖ Server running on port 8080
    üåê Local access:
       http://localhost:8080
       http://<your-local-ip>:8080
    üöÄ For remote access, run:
       ngrok http 8080

3Ô∏è‚É£ Start ngrok for HTTPS & remote access
----------------------------------------
> Note: Microphone access on browsers requires HTTPS. HTTP alone will not work on most mobile browsers.

1. Open another terminal.
2. Run ngrok:

       ngrok http 8080

3. Copy the **HTTPS URL** from ngrok (e.g., https://a53ae11c7737.ngrok-free.app)

4Ô∏è‚É£ Open the server in your browser
-----------------------------------
- On your **laptop** or **phone**, go to the ngrok HTTPS URL.
- Make sure you **allow microphone access** when prompted.

5Ô∏è‚É£ Select the mode
-------------------
- Click **üì§ Sender** on the device that will send audio.
- Click **üì• Receiver** on the device that will receive cleaned audio.
- Start sending/receiving using the buttons.

6Ô∏è‚É£ Common issues & fixes
-------------------------
- **Phone keeps disconnecting / reconnecting:**
    - Disable Private DNS temporarily on your phone. Some DNS providers block ngrok.
      - Android: Settings ‚Üí Network & Internet ‚Üí Private DNS ‚Üí Off
      - iOS: Settings ‚Üí Wi-Fi ‚Üí Tap your network ‚Üí Configure DNS ‚Üí Off


7Ô∏è‚É£ Stopping the server
-----------------------
- Press `Ctrl+C` in the terminal running `server.py` to stop the server.
- Press `Ctrl+C` in the terminal running ngrok to stop the tunnel.

8Ô∏è‚É£ Tips
---------
- Always use the **ngrok HTTPS URL** on mobile to ensure microphone access works.
- Reconnect attempts happen automatically if the connection drops.
- Make sure both sender and receiver devices are connected to the same ngrok session.



FOR React 

1Ô∏è‚É£ Install ngrok

--Go to https://ngrok.com/download
   and download for your OS.

--Unzip and place the executable in a folder included in your PATH (or just keep it somewhere handy).

--Authenticate your ngrok account (optional but recommended):

--ngrok authtoken YOUR_NGROK_AUTH_TOKEN

2Ô∏è‚É£ Start Python server

Open a terminal in the folder containing server.py:

-----------------
python server.py |
-----------------


You should see something like:

‚úÖ Server running on port 8080

 Start React frontend
-----------------------
Open another terminal :

cd frontend 

and run:

npm run dev

- Open http://localhost:5173 in your browser.
- The UI dashboard should load.


4Ô∏è‚É£  Start ngrok
---------------
Open a third terminal and run:

ngrok http 8080

- Copy the HTTPS URL from ngrok (e.g., https://a53ae11c7737.ngrok-free.app)
- This URL allows remote devices to access your Python server.


5Ô∏è‚É£ Update React WebSocket URL
------------------------------
In your React UI (e.g., NoiseCleaner or Dashboard), replace the local WebSocket URL with the ngrok URL:
ngrok url = https://a53ae11c7737.ngrok-free.app
URL to enter = wss://a53ae11c7737.ngrok-free.app/ws


Open server in your browser / devices
-----------------------------------------
- On your laptop open http://localhost:5173/
- On phone, open the ngrok HTTPS URL.
- Allow microphone access when prompted.

7Ô∏è‚É£ Select mode
---------------
- Click üì§ Sender on the device sending audio.
- Click üì• Receiver on the device receiving cleaned audio.
- Start sending/receiving using the buttons


8Ô∏è‚É£
 Common issues & fixes
-------------------------
- Phone keeps disconnecting / reconnecting:
    - Disable Private DNS temporarily.
        - Android: Settings ‚Üí Network & Internet ‚Üí Private DNS ‚Üí Off
        - iOS: Settings ‚Üí Wi-Fi ‚Üí Tap network ‚Üí Configure DNS ‚Üí Off
- Browser microphone not working: Make sure you use https:// (ngrok HTTPS) on mobile devices.



üí° Tips
--------
- Always use ngrok HTTPS URL on mobile or remote devices for microphone access.
- Reconnect attempts happen automatically if the connection drops.
- Make sure sender and receiver devices use the same ngrok session.
- Restart ngrok if the URL changes ‚Äî update React WebSocket URL accordingly.